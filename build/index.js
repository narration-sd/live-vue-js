module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=require("react")},function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n);function o(){return"%%live-vue-pos|"+window.location.pathname}function i(e){window.sessionStorage.setItem(o(),JSON.stringify([window.scrollX,window.scrollY]))}var l={setUp:function(){window.addEventListener("unload",i)},takeDown:function(){window.removeEventListener("unload",i)},remember:function(){try{var e=JSON.parse(window.sessionStorage.getItem(o()));e&&Array.isArray(e)&&window.scrollTo(e[0],e[1])}catch(e){console.log("no currentPosition yet: "+e)}}};function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}
/*
 *  @link      https://narrationsd.com/
 *  @copyright Copyright (c) 2018 Narration SD
 *  @license   Craft License https://narrationsd.com/docs/license.html
 */var b=a.a.createContext("no Context"),w=!1;function g(e){w&&console.log(e)}var E=function(e){function t(e){var r;if(d(this,t),m(h(r=f(this,p(t).call(this,e))),"state",{liveVueData:null,dataArrived:!1,isLiveVue:!1,editFadeDuration:802}),m(h(r),"rearrangeToGatsbyData",function(e){var t={data:{}};return t.data[r.introducer]=e.data,t.data.lvMeta=e.lvMeta,g("rearrangeToGatsbyData result: "+JSON.stringify(t)),t}),m(h(r),"inIframe",function(){if("undefined"==typeof window)return!1;try{return window.self!==window.top}catch(e){return!0}}),m(h(r),"receiveMessage",function(e){if(void 0!==e.data)if(""!==e.data)if(void 0!==e.data)if(void 0!==e.data.text){var t={data:{}};try{if(!(t=JSON.parse(e.data.text)).data)throw new Error("no data from Live Preview!");var n=t.lvMeta?t.lvMeta.editFadeDuration:0;g("receive editFadeDuration: "+n),Object.keys(t.data).length>0&&(t=r.rearrangeToGatsbyData(t),g("json rearranged; obj is: "+JSON.stringify(t)),l.setUp(),g("setting state data arrived"),r.setState({liveVueData:t.data,editFadeDuration:n,dataArrived:!0}),g("state data after receive: "+JSON.stringify(r.state.liveVueData)))}catch(e){g("json parse error: "+e)}}else g("event data.text undefined");else g("no data");else g("skipping data on empty");else g("skipping data on undefined")}),m(h(r),"componentDidMount",function(){r.receiveMessage=r.receiveMessage.bind(h(r)),window.addEventListener("message",r.receiveMessage,!1),window.parent.postMessage("loaded","*")}),m(h(r),"componentWillUnmount",function(){window.removeEventListener("message",r.receiveMessage),l.takeDown()}),m(h(r),"componentWillUpdate",function(e,t,n){r.state.isLiveVue&&l.remember()}),m(h(r),"report",function(e,t){r.reporter.current.report(e,t)}),m(h(r),"render",function(){g("begin LiveVueGatsby render"),g(r.props);var e={},t=!1,n=0;return r.context.isLiveVue?r.context.dataArrived?(t=!0,n=r.context.editFadeDuration,e={visibility:"visible",display:"block",backgroundColor:"#004d66"}):(t=!1,n=0,e={visibility:"hidden",display:"none"}):(t=!0,n=0,e={visibility:"visible"}),g("LiveVueGatsby fadeIn: "+t+", fadeTime: "+n+", style: "+JSON.stringify(e)),a.a.createElement(b.Provider,{value:{isLiveVue:r.state.isLiveVue,dataArrived:r.state.dataArrived,editFadeDuration:r.state.editFadeDuration,data:r.state.dataArrived?r.state.liveVueData:r.props.data,children:r.props.children}},a.a.createElement(a.a.Fragment,null,a.a.createElement(S,null,a.a.createElement("div",{style:r.style},r.props.children))))}),g("Wrap props data: "+e.data),g(e.data),!e.data){var n="LiveVueGatsby: a valid data prop is required, but it's not yet provided!";throw"undefined"!=typeof window&&document.write("<h2>Exiting: "+n+"</h2>"),new Error(n)}return r.introducer=Object.getOwnPropertyNames(e.data)[0],r.state.isLiveVue=r.inIframe(),r.reporter=a.a.createRef(),r}return v(t,n["Component"]),t}(),O=function(e){function t(){var e,r;d(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return m(h(r=f(this,(e=p(t)).call.apply(e,[this].concat(o)))),"addDataToChildren",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.a.Children.map(e,function(e){return e&&void 0!==e.type?a.a.cloneElement(e,{data:t}):a.a.cloneElement(e)})}),r}return v(t,n["Component"]),u(t,[{key:"render",value:function(){return g("begin LiveVueData render; context: "+this.context),g(this.context),this.context.dataArrived&&null!==this.context.data?this.addDataToChildren(this.props.children,this.context.data):this.props.children}}]),t}();function D(e){var t=void 0!==e.replacement?e.replacement:a.a.createElement("div",{dangerouslySetInnerHTML:{__html:"<h3>Disabled during Previews</h3>"}});return e&&e.data&&e.data.lvMeta&&e.data.lvMeta.isLivePreview?t:e.children}m(O,"contextType",b);var S=function(e){function t(e){var r;return d(this,t),(r=f(this,p(t).call(this,e))).state={hasError:!1},r}return v(t,a.a.Component),u(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t})}},{key:"render",value:function(){if(this.state.hasError){console.log("React Error: this.state.errMsg: "+this.state.errMsg);this.state.error;return a.a.createElement("div",{style:{backgroundColor:"white",padding:"20px",height:"100h",width:"100w"}},a.a.createElement("h2",null,"Sorry, something has gone wrong during React rendering."),a.a.createElement("p",null,"You're likely to find a useful clue by using the direct tip or Error Decoder website link that's usually offered under Details, just below. "),a.a.createElement("p",null,"The decoder if offered is React's method of providing quite useful error messages for the compact runtime version, and its messages when available are often quite good. "),a.a.createElement("details",{open:!0,style:{whiteSpace:"pre-wrap",fontFamily:"sans-serif",color:"darkblue"}},this.state.error&&this.state.error.toString()),a.a.createElement("br",null),a.a.createElement("p",null,a.a.createElement("i",null,"A first thing to try, which may often clear a problem that shows here, is to freshly copy the query from your latest Gatsby /src page into its Route rule, and save this updated Yaml config to your server -- then try the preview again.")),a.a.createElement("p",null,a.a.createElement("i",null,"This will correct (or make more visible) errors that can occur only for preview data, and thus wouldn't have shown up in your initial tests of the currently built Gatsby page itself (which you should always make for all data that needs to show, before previewing).")),a.a.createElement("p",null,"If refreshing the query this way doesn't help, then normal troubleshooting practices apply, and any clues linked from the Decoder site, combined with a little backing off of recent changes, will usually locate the problem for you rapidly."),a.a.createElement("p",null,"If needing to go further, you'll find a stack trace in the browser console,which may show code you can recognize, at or near its top level."),a.a.createElement("p",null,"To get a more readable stack trace and results, you can set the Webpack build not to minify -- search online for how to do that with your current Gatsby version."))}return a.a.createElement("div",null,this.props.children)}}]),t}();r.d(t,"LiveVueGatsby",function(){return E}),r.d(t,"LiveVueData",function(){return O}),r.d(t,"LiveVueDisable",function(){return D})}]);